<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ONA™ - Студия массажа лица</title>
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,300,0,0" />

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        background: '#F2EFE9',     
                        primary: '#1A1A1A',        
                        secondary: '#555555',      
                        tertiary: '#999999',       
                        accent: '#D4C4B0',         
                        'accent-hover': '#C4B29E', 
                        watermark: '#E6DCCA',
                        'dark-section': '#1C1A19', 
                        'dark-card': '#262422',
                    },
                    fontFamily: {
                        sans: ['TT Commons Classic', 'sans-serif'],
                    },
                    fontSize: {
                        'watermark': 'clamp(150px, 25vw, 450px)',
                    },
                    letterSpacing: {
                        'tight': '-0.01em',       
                        'tighter': '-0.025em', 
                        'dense': '-0.04em',
                    },
                    spacing: {
                        'layout-px': 'clamp(20px, 4vw, 60px)',
                    }
                }
            }
        }
    </script>

    <style>
        /* --- ШРИФТЫ TT COMMONS CLASSIC --- */
        @font-face {
            font-family: 'TT Commons Classic';
            src: url('https://res.cloudinary.com/dt79npeea/raw/upload/v1766571131/TT_Commons_Classic_Regular_j4ph2y.woff') format('woff');
            font-weight: 400; font-style: normal; font-display: swap;
        }
        @font-face {
            font-family: 'TT Commons Classic';
            src: url('https://res.cloudinary.com/dt79npeea/raw/upload/v1766571128/TT_Commons_Classic_Medium_celr4j.woff') format('woff');
            font-weight: 500; font-style: normal; font-display: swap;
        }
        @font-face {
            font-family: 'TT Commons Classic';
            src: url('https://res.cloudinary.com/dt79npeea/raw/upload/v1766571122/TT_Commons_Classic_DemiBold_sxkuze.woff') format('woff');
            font-weight: 600; font-style: normal; font-display: swap;
        }
        @font-face {
            font-family: 'TT Commons Classic';
            src: url('https://res.cloudinary.com/dt79npeea/raw/upload/v1766571122/TT_Commons_Classic_Bold_iyjw1c.woff') format('woff');
            font-weight: 700; font-style: normal; font-display: swap;
        }

        html { scroll-behavior: smooth; }
        body { font-family: 'TT Commons Classic', sans-serif; -webkit-font-smoothing: antialiased; }
        ::selection { background-color: #D4C4B0; color: #111111; }

        .material-symbols-rounded {
            font-family: 'Material Symbols Rounded';
            font-weight: normal; font-style: normal; font-size: 24px; line-height: 1; letter-spacing: normal; text-transform: none; display: inline-block; white-space: nowrap; word-wrap: normal; direction: ltr; -webkit-font-smoothing: antialiased;
        }

        .avatar-stack:hover > * { transform: translateX(4px); }
        .avatar-stack > * { transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1); border: 3px solid #F2EFE9; }

        .accordion-content { transition: max-height 0.4s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.3s ease; max-height: 0; opacity: 0; overflow: hidden; }
        .accordion-content.open { opacity: 1; }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .scroll-animate { opacity: 0; transform: translateY(60px) scale(0.98); transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
        .scroll-animate.active { opacity: 1; transform: translateY(0) scale(1); }

        .blur-word { display: inline-block; opacity: 0; filter: blur(12px); transform: translateY(15px); transition: opacity 1s ease, filter 1s ease, transform 1s ease; will-change: opacity, filter, transform; margin-right: 0.25em; }
        .blur-word.active { opacity: 1; filter: blur(0); transform: translateY(0); }

        .fade-in-up { opacity: 0; transform: translateY(20px); animation: fadeInUp 0.8s ease-out forwards; }
        @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
        .delay-300 { animation-delay: 300ms; }
        .delay-500 { animation-delay: 500ms; }
        .delay-700 { animation-delay: 700ms; }

        #modal-overlay { transition: opacity 0.4s ease; }
        #modal-content { transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.4s ease; }
        body.modal-open { overflow: hidden; }

        /* Mobile Menu Transitions */
        #mobile-menu { transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
        #mobile-menu.open { transform: translateX(0); }
        #mobile-menu.closed { transform: translateX(100%); }

        /* SNOWFALL ANIMATION */
        .snowflake { position: absolute; top: -20px; background-color: rgba(255, 255, 255, 0.9); border-radius: 50%; pointer-events: none; animation: fall linear infinite; z-index: 1; }
        @keyframes fall { 0% { transform: translateY(0) translateX(0); opacity: 0; } 10% { opacity: 1; } 100% { transform: translateY(800px) translateX(20px); opacity: 0; } }

        .hover-lift { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .hover-lift:hover { transform: translateY(-4px); box-shadow: 0 10px 30px -10px rgba(0,0,0,0.3); }

        /* CIRCULAR SLIDER STYLES */
        .slider-container { height: 500px; display: flex; align-items: center; justify-content: center; position: relative; }
        .slide { position: absolute; transition: all 0.8s cubic-bezier(0.25, 0.8, 0.25, 1); border-radius: 50%; overflow: hidden; box-shadow: 0 20px 60px rgba(0,0,0,0.5); cursor: pointer; aspect-ratio: 1/1; }
        .slide img { width: 100%; height: 100%; object-fit: cover; }
        .slide.active { z-index: 20; transform: translateX(0) scale(1); opacity: 1; width: 400px; filter: brightness(1); border: 4px solid rgba(255,255,255,0.1); }
        .slide.prev { z-index: 10; transform: translateX(-110%) scale(0.65); opacity: 0.4; width: 400px; filter: brightness(0.6) grayscale(0.5); }
        .slide.next { z-index: 10; transform: translateX(110%) scale(0.65); opacity: 0.4; width: 400px; filter: brightness(0.6) grayscale(0.5); }
        .slide.hidden { opacity: 0; transform: scale(0); z-index: 0; }
        
        .progress-indicators { display: flex; gap: 8px; justify-content: center; margin-top: 20px; }
        .progress-bar-bg { width: 60px; height: 2px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden; cursor: pointer; transition: background 0.3s; }
        .progress-bar-bg:hover { background: rgba(255,255,255,0.2); }
        .progress-bar-fill { height: 100%; background: #D4C4B0; width: 0%; }

        @media (max-width: 768px) { .slider-container { height: 350px; } .slide.active { width: 260px; } .slide.prev { transform: translateX(-60%) scale(0.6); opacity: 0.3; } .slide.next { transform: translateX(60%) scale(0.6); opacity: 0.3; } }

        #plasma-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; opacity: 0.4; pointer-events: none; }
        
        /* Modal Content Styles */
        .modal-step { position: relative; padding-left: 20px; margin-bottom: 8px; }
        .modal-step::before { content: ''; position: absolute; left: 0; top: 9px; width: 6px; height: 6px; background-color: #D4C4B0; border-radius: 50%; }
    </style>
</head>
<body class="bg-background text-primary font-sans antialiased overflow-x-hidden relative min-h-screen flex flex-col tracking-tight selection:bg-accent selection:text-primary">

    <!-- Header -->
    <header class="fixed top-0 w-full z-50 bg-background/80 backdrop-blur-xl border-b border-transparent transition-all duration-300 py-4">
        <div class="max-w-[1840px] mx-auto w-full px-layout-px flex items-center justify-between">
            <a href="#" class="text-2xl font-bold tracking-dense z-50 relative group text-primary">
                ONA™
            </a>

            <nav class="hidden md:flex items-center gap-10 text-[14px] font-medium text-secondary tracking-tight">
                <a href="#about" class="hover:text-primary transition-colors duration-300">О нас</a>
                <a href="#services" class="hover:text-primary transition-colors duration-300">Услуги</a>
                <a href="#contacts" class="hover:text-primary transition-colors duration-300">Контакты</a>
            </nav>

            <div class="flex items-center gap-4">
                <a href="https://n979851.yclients.com/company/910008/personal/menu?o=" class="hidden sm:inline-flex bg-[#1A1A1A] hover:bg-black text-white px-6 py-3 rounded-xl text-[14px] font-medium transition-all duration-300 tracking-tight shadow-lg shadow-black/5 hover:shadow-black/10 transform hover:-translate-y-0.5">
                    Записаться
                </a>
                <button id="open-menu-btn" class="md:hidden p-2 text-primary z-50 relative">
                    <span class="material-symbols-rounded text-3xl">menu</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-0 z-[100] bg-background closed flex flex-col pt-24 px-layout-px pb-10">
        <button id="close-menu-btn" class="absolute top-6 right-layout-px p-2 text-primary">
            <span class="material-symbols-rounded text-3xl">close</span>
        </button>
        
        <nav class="flex flex-col gap-8 text-[24px] font-medium text-primary tracking-tighter mb-auto">
            <a href="#about" class="mobile-link hover:text-accent transition-colors">О нас</a>
            <a href="#services" class="mobile-link hover:text-accent transition-colors">Услуги</a>
            <a href="#contacts" class="mobile-link hover:text-accent transition-colors">Контакты</a>
        </nav>

        <div class="flex flex-col gap-6 mt-10">
            <a href="https://n979851.yclients.com/company/910008/personal/menu?o=" class="mobile-link w-full bg-[#1A1A1A] text-white py-4 rounded-xl text-[16px] font-medium text-center shadow-lg">
                Записаться
            </a>
            
            <div class="flex gap-4 justify-center">
                 <a href="https://www.instagram.com/ona_face_msk/" class="w-12 h-12 rounded-full bg-white flex items-center justify-center border border-gray-200 text-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
                </a>
                <a href="#" class="w-12 h-12 rounded-full bg-white flex items-center justify-center border border-gray-200 text-primary transition-colors hover:bg-gray-50">
                    <!-- VK Icon (Updated) -->
                    <svg class="w-7 h-7" viewBox="0 0 101 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_vk_mobile)">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M7.52944 7.02944C0.5 14.0589 0.5 25.3726 0.5 48V52C0.5 74.6274 0.5 85.9411 7.52944 92.9706C14.5589 100 25.8726 100 48.5 100H52.5C75.1274 100 86.4411 100 93.4706 92.9706C100.5 85.9411 100.5 74.6274 100.5 52V48C100.5 25.3726 100.5 14.0589 93.4706 7.02944C86.4411 0 75.1274 0 52.5 0H48.5C25.8726 0 14.5589 0 7.52944 7.02944ZM17.3752 30.4169C17.9168 56.4169 30.9167 72.0418 53.7084 72.0418H55.0003V57.1668C63.3753 58.0001 69.7082 64.1252 72.2498 72.0418H84.0835C80.8335 60.2085 72.2914 53.6668 66.9581 51.1668C72.2914 48.0835 79.7915 40.5835 81.5831 30.4169H70.8328C68.4995 38.6669 61.5836 46.1668 55.0003 46.8751V30.4169H44.2499V59.2501C37.5833 57.5835 29.1668 49.5002 28.7918 30.4169H17.3752Z" fill="currentColor"/>
                        </g>
                        <defs>
                            <clipPath id="clip0_vk_mobile">
                                <rect width="100" height="100" fill="white" transform="translate(0.5)"/>
                            </clipPath>
                        </defs>
                    </svg>
                </a>
            </div>
        </div>
    </div>

    <!-- БЛОК 1: HERO -->
    <main class="relative z-10 w-full max-w-[1840px] mx-auto px-layout-px pt-24 lg:pt-20 pb-0 min-h-screen flex flex-col justify-center">
        
        <!-- Grid Content -->
        <div class="w-full grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12 items-center relative z-10">
            
            <!-- Left Column: Text -->
            <div class="lg:col-span-5 flex flex-col items-start text-left relative z-10 pb-12 lg:pb-16">
                
                <h1 class="blur-text font-bold text-primary tracking-dense text-[48px] lg:text-[68px] leading-[1.05] mb-6">
                    Ваша самая здоровая<br>
                    кожа раскрыта
                </h1>

                <!-- Social Proof -->
                <div class="flex flex-wrap items-center gap-4 mb-8 fade-in-up delay-300 opacity-0">
                    <div class="flex -space-x-3 avatar-stack">
                        <div class="w-10 h-10 rounded-full border-[3px] border-background bg-gray-200 overflow-hidden"><img src="https://i.pravatar.cc/100?img=1" class="w-full h-full object-cover"></div>
                        <div class="w-10 h-10 rounded-full border-[3px] border-background bg-gray-200 overflow-hidden"><img src="https://i.pravatar.cc/100?img=5" class="w-full h-full object-cover"></div>
                        <div class="w-10 h-10 rounded-full border-[3px] border-background bg-gray-200 overflow-hidden"><img src="https://i.pravatar.cc/100?img=9" class="w-full h-full object-cover"></div>
                        <div class="w-10 h-10 rounded-full border-[3px] border-background bg-gray-200 overflow-hidden"><img src="https://i.pravatar.cc/100?img=32" class="w-full h-full object-cover"></div>
                        <div class="w-10 h-10 rounded-full border-[3px] border-background bg-primary text-white flex items-center justify-center font-medium text-xs">2k+</div>
                    </div>
                    <div class="flex flex-col gap-0.5">
                        <div class="flex gap-0.5 text-primary">
                            <span class="material-symbols-rounded text-base text-primary fill-current">star</span>
                            <span class="material-symbols-rounded text-base text-primary fill-current">star</span>
                            <span class="material-symbols-rounded text-base text-primary fill-current">star</span>
                            <span class="material-symbols-rounded text-base text-primary fill-current">star</span>
                            <span class="material-symbols-rounded text-base text-primary fill-current">star</span>
                        </div>
                        <span class="text-xs font-medium text-secondary tracking-wide uppercase mt-1">2500+ Клиентов</span>
                    </div>
                </div>

                <p class="text-[16px] lg:text-[17px] text-secondary font-normal leading-[1.6] max-w-[400px] tracking-tight mb-8 fade-in-up delay-500 opacity-0">
                    <span class="text-primary font-medium">Мягко обновляем кожу</span>, снимаем стресс, <span class="text-primary font-medium">возвращаем сияние</span>. Ваш личный ритуал красоты в центре города.
                </p>

                <div class="flex flex-col items-start w-full fade-in-up delay-700 opacity-0">
                    <a href="https://wa.me/79773480770" class="group relative w-auto cursor-pointer overflow-hidden rounded-full border border-primary/10 bg-white p-3 px-8 text-center font-semibold shadow-lg shadow-black/5 block">
                        <span class="inline-block transition-all duration-300 group-hover:translate-x-12 group-hover:opacity-0 text-primary">
                            Записаться на консультацию
                        </span>
                        <div class="absolute top-0 left-0 z-10 flex h-full w-full translate-x-12 items-center justify-center gap-2 text-white opacity-0 transition-all duration-300 group-hover:translate-x-0 group-hover:opacity-100">
                            <span>Записаться</span>
                            <span class="material-symbols-rounded text-lg">arrow_forward</span>
                        </div>
                        <div class="absolute left-[20%] top-[40%] h-2 w-2 scale-0 opacity-0 rounded-lg bg-primary transition-all duration-500 group-hover:opacity-100 group-hover:left-[0%] group-hover:top-[0%] group-hover:h-full group-hover:w-full group-hover:scale-[1.8] group-hover:rounded-none"></div>
                    </a>
                    <span class="mt-4 text-[13px] text-tertiary tracking-tight pl-2">
                        Бесплатная консультация (15 мин) перед процедурой
                    </span>
                </div>
            </div>

            <!-- Right Column: Image -->
            <div class="hidden lg:block lg:col-span-7 relative w-full fade-in-up delay-500 opacity-0">
                 <div class="relative w-full">
                     <img src="https://res.cloudinary.com/dt79npeea/image/upload/v1766514540/2622_dlx8qw.png" 
                          alt="Face Massage" 
                          class="w-full h-auto max-h-[85vh] object-contain object-center drop-shadow-none">
                     <div class="absolute bottom-0 left-0 w-full h-64 bg-gradient-to-t from-background via-background/40 to-transparent pointer-events-none"></div>
                 </div>
            </div>

            <!-- Mobile Image -->
             <div class="lg:hidden w-full relative h-[400px] fade-in-up delay-500 opacity-0 order-last">
                 <img src="https://res.cloudinary.com/dt79npeea/image/upload/v1766514540/2622_dlx8qw.png" 
                      alt="Face Massage" 
                      class="w-full h-full object-contain object-bottom drop-shadow-none">
                 <div class="absolute bottom-0 left-0 w-full h-32 bg-gradient-to-t from-background to-transparent pointer-events-none"></div>
            </div>
        </div>
    </main>

    <!-- БЛОК 2: ПОЧЕМУ ONA FACE? -->
    <section id="about" class="bg-dark-section py-16 lg:py-24 relative z-10 w-full text-white overflow-hidden">
        <canvas id="plasma-canvas" class="absolute inset-0 w-full h-full opacity-30 pointer-events-none"></canvas>
        <div class="max-w-[1840px] mx-auto px-layout-px text-center relative z-10">
            
            <h2 class="blur-text text-[40px] lg:text-[56px] font-bold tracking-dense text-white leading-[1.0] mb-12">
                Почему ONA Face?
            </h2>

            <!-- Circular Slider -->
            <div class="slider-container mb-8" id="slider"></div>
            <div class="progress-indicators mb-12" id="slider-progress-container"></div>

            <div class="max-w-2xl mx-auto mb-16">
                <p class="text-[18px] lg:text-[20px] leading-[1.6] text-white/80 font-light tracking-tight">
                    Мы специализируемся на <span class="text-white font-medium">массаже лица</span> и деликатных пилингах. Наш подход — <span class="text-white font-medium">бережное обновление</span> без агрессии, где каждая процедура запускает естественную регенерацию.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 border-t border-white/10 pt-10">
                <div class="flex flex-col items-center hover-lift">
                    <div class="w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4 border border-white/10"><span class="material-symbols-rounded text-accent text-3xl">water_drop</span></div>
                    <h3 class="text-lg font-bold mb-2 tracking-dense">Глубокое очищение</h3>
                    <p class="text-sm text-white/50 max-w-xs leading-relaxed">Пилинг действует внутри эпидермиса, обновляя кожу без повреждений.</p>
                </div>
                <div class="flex flex-col items-center hover-lift">
                    <div class="w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4 border border-white/10"><span class="material-symbols-rounded text-accent text-3xl">sentiment_satisfied</span></div>
                    <h3 class="text-lg font-bold mb-2 tracking-dense">Антистресс эффект</h3>
                    <p class="text-sm text-white/50 max-w-xs leading-relaxed">Массаж высвобождает эндорфины и снимает мышечные зажимы.</p>
                </div>
                <div class="flex flex-col items-center hover-lift">
                    <div class="w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4 border border-white/10"><span class="material-symbols-rounded text-accent text-3xl">auto_awesome</span></div>
                    <h3 class="text-lg font-bold mb-2 tracking-dense">Видимый результат</h3>
                    <p class="text-sm text-white/50 max-w-xs leading-relaxed">Комплексный уход дает мгновенный эффект лифтинга и сияния.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- БЛОК 3: УСЛУГИ -->
    <section id="services" class="relative bg-background lg:min-h-[250vh] h-auto w-full pt-16">
        <div class="sticky top-0 h-screen w-full hidden lg:flex items-start justify-center pointer-events-none z-0 pt-32">
            <span class="text-[13px] font-bold tracking-[0.2em] text-tertiary uppercase">Услуги</span>
        </div>
        <div class="sticky top-0 h-screen w-full hidden lg:flex items-start justify-center pointer-events-none z-30 overflow-hidden -mt-[100vh] pt-32">
            <div class="w-full flex justify-center mt-12">
                <div id="left-title" class="flex items-center justify-end will-change-transform">
                    <h2 class="text-[32px] font-medium leading-[1.0] text-primary text-right whitespace-nowrap tracking-dense">Выберите уход&nbsp;</h2>
                </div>
                <div id="right-title" class="flex items-center justify-start will-change-transform">
                    <h2 class="text-[32px] font-medium leading-[1.0] text-primary text-left whitespace-nowrap tracking-dense">в своём ритме</h2>
                </div>
            </div>
        </div>
        <div class="relative z-10 max-w-[1840px] mx-auto px-layout-px pb-10 lg:-mt-[100vh]">
            <div class="flex flex-col items-center gap-6 lg:pt-[100vh]">
                <div class="lg:hidden w-full mb-10 text-center pt-20">
                    <span class="text-[12px] font-bold tracking-[0.2em] text-tertiary uppercase mb-3 block">Услуги</span>
                    <h2 class="text-[28px] leading-[1.1] text-primary font-medium tracking-dense">Выберите уход в своём ритме</h2>
                </div>
                
                <!-- Card 1: Массаж -->
                <div class="scroll-animate w-full max-w-[500px] bg-white rounded-[24px] p-8 border border-gray-100 shadow-none hover:border-gray-200 transition-colors duration-300">
                    <div class="flex justify-between items-start mb-6"><div class="w-12 h-12 bg-background rounded-full flex items-center justify-center text-primary"><span class="material-symbols-rounded">spa</span></div></div>
                    <h3 class="text-[26px] font-bold text-primary mb-3 tracking-dense">Массаж лица</h3>
                    <p class="text-[16px] text-secondary leading-[1.6] mb-6 tracking-tight">Залог <span class="text-primary font-medium">упругой, здоровой кожи</span>.</p>
                    <div class="mb-8 border-t border-gray-100 pt-6"><ul class="space-y-3"><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">Классический массаж</span><span class="font-semibold text-primary">2 500₽</span></li><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">Лимфодренажный</span><span class="font-semibold text-primary">3 000₽</span></li><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">Антивозрастной</span><span class="font-semibold text-primary">3 000₽</span></li><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">Скульптурирующий</span><span class="font-semibold text-primary">3 500₽</span></li><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">Буккальный массаж</span><span class="font-semibold text-primary">3 500₽</span></li></ul></div>
                    <div class="flex gap-3"><button onclick="openModal('massage')" class="flex-1 py-3 rounded-lg border border-primary/10 hover:bg-primary/5 transition-all text-[14px] font-medium tracking-tight text-primary">Подробнее</button><a href="https://n979851.yclients.com/company/910008/personal/menu?o=" class="flex-1 py-3 rounded-lg bg-primary text-white hover:bg-black transition-all text-[14px] font-medium tracking-tight flex items-center justify-center">Записаться</a></div>
                </div>

                <!-- Card 2: Пилинги -->
                <div class="scroll-animate w-full max-w-[500px] bg-white rounded-[24px] p-8 border border-gray-100 shadow-none hover:border-gray-200 transition-colors duration-300">
                    <div class="flex justify-between items-start mb-6"><div class="w-12 h-12 bg-background rounded-full flex items-center justify-center text-primary"><span class="material-symbols-rounded">water_drop</span></div></div>
                    <h3 class="text-[26px] font-bold text-primary mb-3 tracking-dense">Пилинги</h3>
                    <p class="text-[16px] text-secondary leading-[1.6] mb-6 tracking-tight">Действуют <span class="text-primary font-medium">внутри эпидермиса</span>.</p>
                    <div class="mb-8 border-t border-gray-100 pt-6"><ul class="space-y-3"><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">Миндальный пилинг</span><span class="font-semibold text-primary">3 000₽</span></li><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">Салициловый</span><span class="font-semibold text-primary">3 000₽</span></li><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">PRX-T33 терапия</span><span class="font-semibold text-primary">5 000₽</span></li><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">BioRePeelCl3</span><span class="font-semibold text-primary">5 500₽</span></li><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">Peach Peel</span><span class="font-semibold text-primary">4 500₽</span></li></ul></div>
                    <div class="flex gap-3"><button onclick="openModal('peeling')" class="flex-1 py-3 rounded-lg border border-primary/10 hover:bg-primary/5 transition-all text-[14px] font-medium tracking-tight text-primary">Подробнее</button><a href="https://n979851.yclients.com/company/910008/personal/menu?o=" class="flex-1 py-3 rounded-lg bg-primary text-white hover:bg-black transition-all text-[14px] font-medium tracking-tight flex items-center justify-center">Записаться</a></div>
                </div>

                <!-- Card 3: Уход -->
                <div class="scroll-animate w-full max-w-[500px] bg-white rounded-[24px] p-8 border border-gray-100 shadow-none hover:border-gray-200 transition-colors duration-300">
                    <div class="flex justify-between items-start mb-6"><div class="w-12 h-12 bg-background rounded-full flex items-center justify-center text-primary"><span class="material-symbols-rounded">local_florist</span></div></div>
                    <h3 class="text-[26px] font-bold text-primary mb-3 tracking-dense">Уходовые процедуры</h3>
                    <p class="text-[16px] text-secondary leading-[1.6] mb-6 tracking-tight">Комплексный подход. <span class="text-primary font-medium">Увлажнение и омоложение</span>.</p>
                    <div class="mb-8 border-t border-gray-100 pt-6"><ul class="space-y-3"><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">Глубокое увлажнение</span><span class="font-semibold text-primary">3 500₽</span></li><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">Чистка лица</span><span class="font-semibold text-primary">3 000₽</span></li><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">Экспресс-уход</span><span class="font-semibold text-primary">2 500₽</span></li><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">Карбокситерапия</span><span class="font-semibold text-primary">4 000₽</span></li><li class="flex justify-between items-center text-[15px]"><span class="text-secondary">Микротоковая терапия</span><span class="font-semibold text-primary">3 500₽</span></li></ul></div>
                    <div class="flex gap-3"><button onclick="openModal('care')" class="flex-1 py-3 rounded-lg border border-primary/10 hover:bg-primary/5 transition-all text-[14px] font-medium tracking-tight text-primary">Подробнее</button><a href="https://n979851.yclients.com/company/910008/personal/menu?o=" class="flex-1 py-3 rounded-lg bg-primary text-white hover:bg-black transition-all text-[14px] font-medium tracking-tight flex items-center justify-center">Записаться</a></div>
                </div>
            </div>
        </div>
    </section>

    <!-- БЛОК 4: АКЦИЯ -->
    <section class="relative bg-background py-12 z-20">
        <div class="max-w-[1840px] mx-auto px-layout-px">
            <div class="relative w-full rounded-[32px] overflow-hidden bg-gradient-to-br from-[#5C0B0B] via-[#781919] to-[#450505] shadow-2xl shadow-red-900/20">
                <div id="snow-container" class="absolute inset-0 pointer-events-none z-0"></div>
                <div class="relative z-10 flex flex-col items-start justify-center py-12 px-6 md:py-16 md:px-16 text-left">
                    <span class="text-sm font-bold tracking-widest text-white/80 uppercase mb-3">Специальное предложение</span>
                    <h2 class="blur-text text-[32px] md:text-5xl font-bold text-white mb-5 leading-[1.1] tracking-dense">
                        -30% для новых клиентов<br>на любую процедуру
                    </h2>
                    <p class="text-base md:text-lg text-white/90 max-w-xl mb-8 leading-relaxed font-light tracking-tight">
                        Только в декабре дарим скидку на знакомство с мастером. Попробуйте любую процедуру — от ухода до буккального массажа.
                    </p>
                    <div class="flex flex-col gap-6">
                        <a href="https://wa.me/79773480770" class="group relative w-auto cursor-pointer overflow-hidden rounded-full border border-white/20 bg-white/10 backdrop-blur-sm p-3 px-8 text-center font-semibold shadow-lg block">
                            <span class="inline-block transition-all duration-300 group-hover:translate-x-12 group-hover:opacity-0 text-white">Записаться со скидкой</span>
                            <div class="absolute top-0 left-0 z-10 flex h-full w-full translate-x-12 items-center justify-center gap-2 text-[#781919] opacity-0 transition-all duration-300 group-hover:translate-x-0 group-hover:opacity-100">
                                <span>Записаться</span><span class="material-symbols-rounded text-lg">arrow_forward</span>
                            </div>
                            <div class="absolute left-[20%] top-[40%] h-2 w-2 scale-0 opacity-0 rounded-lg bg-white transition-all duration-500 group-hover:opacity-100 group-hover:left-[0%] group-hover:top-[0%] group-hover:h-full group-hover:w-full group-hover:scale-[1.8] group-hover:rounded-none"></div>
                        </a>
                        <p class="text-sm text-white/50 italic tracking-wide">Идеальное время, чтобы начать заботиться о себе.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- БЛОК 5: КОНТАКТЫ -->
    <section id="contacts" class="bg-background py-16 lg:py-24 relative z-10 text-primary">
        <div class="max-w-[1840px] mx-auto px-layout-px">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">
                
                <!-- Правая карточка (Action) -->
                <div class="lg:col-span-4 lg:order-2 order-1 bg-white border border-gray-100 rounded-[32px] p-8 lg:p-10 hover-lift flex flex-col justify-between shadow-lg shadow-black/5">
                    <div>
                        <div class="flex justify-between items-center mb-12">
                             <div class="flex items-center gap-2 px-3 py-1.5 rounded-full bg-green-500/10 border border-green-500/20">
                                <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                                <span class="text-xs text-green-600 font-medium tracking-wide">Онлайн</span>
                             </div>
                             <span class="material-symbols-rounded text-tertiary text-3xl">calendar_month</span>
                        </div>
                        <h3 class="text-3xl font-bold mb-4 text-primary tracking-dense">Запланировать<br>консультацию</h3>
                        <p class="text-secondary text-base mb-10 leading-relaxed">
                            Оставьте заявку онлайн, и администратор свяжется с вами.
                        </p>
                        <a href="https://n979851.yclients.com/company/910008/personal/menu?o=" class="group relative w-full cursor-pointer overflow-hidden rounded-full border border-primary/10 bg-primary p-3 px-8 text-center font-semibold shadow-lg shadow-black/5 block">
                            <span class="inline-block transition-all duration-300 group-hover:translate-x-12 group-hover:opacity-0 text-white">Записаться</span>
                            <div class="absolute top-0 left-0 z-10 flex h-full w-full translate-x-12 items-center justify-center gap-2 text-primary opacity-0 transition-all duration-300 group-hover:translate-x-0 group-hover:opacity-100">
                                <span>Записаться</span>
                                <span class="material-symbols-rounded text-lg">arrow_forward</span>
                            </div>
                            <div class="absolute left-[20%] top-[40%] h-2 w-2 scale-0 opacity-0 rounded-lg bg-white transition-all duration-500 group-hover:opacity-100 group-hover:left-[0%] group-hover:top-[0%] group-hover:h-full group-hover:w-full group-hover:scale-[1.8] group-hover:rounded-none"></div>
                        </a>
                    </div>
                    <p class="text-center text-xs text-tertiary mt-8 pt-6 border-t border-gray-100">
                        Бесплатная консультация ~15 минут перед каждой процедурой
                    </p>
                </div>

                <!-- Левая карточка (Info) -->
                <div class="lg:col-span-8 lg:order-1 order-2 bg-white border border-gray-100 rounded-[32px] p-8 lg:p-12 relative overflow-hidden shadow-lg shadow-black/5">
                    <div class="absolute top-0 right-0 p-8 opacity-5 pointer-events-none">
                         <span class="material-symbols-rounded text-[120px] text-primary">spa</span>
                    </div>
                    <div class="relative z-10">
                        <h2 class="blur-text text-[32px] lg:text-[40px] font-bold tracking-dense mb-12 leading-none text-primary">ONA Face — студия<br>массажа лица</h2>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-10 mb-12">
                            <!-- Column 1 -->
                            <div>
                                <h4 class="text-xs font-bold uppercase tracking-widest text-tertiary mb-4">Свяжитесь с нами</h4>
                                <div class="flex flex-col gap-3">
                                    <a href="tel:+79773480770" class="group relative w-full cursor-pointer overflow-hidden rounded-full border border-primary/10 bg-background hover:bg-white p-3 px-6 text-left font-semibold transition-all block">
                                        <div class="flex items-center gap-3 relative z-10 transition-all duration-300 group-hover:translate-x-2 text-primary">
                                            <span class="material-symbols-rounded text-accent">call</span>
                                            <span>Позвонить</span>
                                        </div>
                                         <div class="absolute top-0 left-0 z-0 h-full w-0 bg-gray-100 transition-all duration-300 group-hover:w-full"></div>
                                    </a>

                                    <a href="https://wa.me/79773480770" class="group relative w-full cursor-pointer overflow-hidden rounded-full border border-primary/10 bg-background hover:bg-white p-3 px-6 text-left font-semibold transition-all block">
                                        <div class="flex items-center gap-3 relative z-10 transition-all duration-300 group-hover:translate-x-2 text-primary">
                                            <span class="material-symbols-rounded text-accent">chat</span>
                                            <span>WhatsApp</span>
                                        </div>
                                        <div class="absolute top-0 left-0 z-0 h-full w-0 bg-gray-100 transition-all duration-300 group-hover:w-full"></div>
                                    </a>
                                </div>
                            </div>
                            
                            <!-- Column 2 -->
                            <div class="flex flex-col justify-between">
                                <div>
                                    <h4 class="text-xs font-bold uppercase tracking-widest text-tertiary mb-4">Контакты</h4>
                                    <div class="space-y-3">
                                        <a href="tel:+79773480770" class="flex items-center gap-3 text-lg text-primary hover:text-accent transition-colors">
                                            <span class="material-symbols-rounded text-accent text-xl">smartphone</span>+7 (977) 348-07-70
                                        </a>
                                        <div class="flex items-center gap-3 text-lg text-secondary">
                                            <span class="material-symbols-rounded text-accent text-xl">location_on</span>Большая почтовая 71
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-8">
                                    <h4 class="text-xs font-bold uppercase tracking-widest text-tertiary mb-3">Мы в соцсетях</h4>
                                    <div class="flex gap-4">
                                        <a href="https://www.instagram.com/ona_face_msk/" class="w-12 h-12 rounded-full bg-background flex items-center justify-center border border-gray-100 hover:bg-accent hover:text-primary hover:border-accent transition-all text-secondary">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
                                        </a>
                                        <a href="#" class="w-12 h-12 rounded-full bg-background flex items-center justify-center border border-gray-100 hover:bg-accent hover:text-primary hover:border-accent transition-all text-secondary">
                                            <!-- VK Icon (Updated) -->
                                            <svg class="w-7 h-7" viewBox="0 0 101 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <g clip-path="url(#clip0_vk_footer)">
                                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.52944 7.02944C0.5 14.0589 0.5 25.3726 0.5 48V52C0.5 74.6274 0.5 85.9411 7.52944 92.9706C14.5589 100 25.8726 100 48.5 100H52.5C75.1274 100 86.4411 100 93.4706 92.9706C100.5 85.9411 100.5 74.6274 100.5 52V48C100.5 25.3726 100.5 14.0589 93.4706 7.02944C86.4411 0 75.1274 0 52.5 0H48.5C25.8726 0 14.5589 0 7.52944 7.02944ZM17.3752 30.4169C17.9168 56.4169 30.9167 72.0418 53.7084 72.0418H55.0003V57.1668C63.3753 58.0001 69.7082 64.1252 72.2498 72.0418H84.0835C80.8335 60.2085 72.2914 53.6668 66.9581 51.1668C72.2914 48.0835 79.7915 40.5835 81.5831 30.4169H70.8328C68.4995 38.6669 61.5836 46.1668 55.0003 46.8751V30.4169H44.2499V59.2501C37.5833 57.5835 29.1668 49.5002 28.7918 30.4169H17.3752Z" fill="currentColor"/>
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0_vk_footer">
                                                        <rect width="100" height="100" fill="white" transform="translate(0.5)"/>
                                                    </clipPath>
                                                </defs>
                                            </svg>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex flex-col md:flex-row justify-between items-start md:items-end pt-8 border-t border-gray-100">
                            <div><span class="block text-sm text-tertiary mb-1">График работы</span><span class="text-lg text-primary">Ежедневно 10:00–21:00</span></div>
                            <div class="flex flex-col sm:flex-row gap-4 mt-4 md:mt-0">
                                <a href="https://go.2gis.com/IF8m2" target="_blank" class="flex items-center gap-2 text-accent hover:text-primary transition-colors border-b border-transparent hover:border-primary pb-1">
                                    <span>2GIS</span><span class="material-symbols-rounded text-sm">arrow_outward</span>
                                </a>
                                <a href="https://yandex.kz/maps/-/CLHiyBjK" target="_blank" class="flex items-center gap-2 text-accent hover:text-primary transition-colors border-b border-transparent hover:border-primary pb-1">
                                    <span>Яндекс Карты</span><span class="material-symbols-rounded text-sm">arrow_outward</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>
    
    <!-- Legal Notice -->
    <div class="bg-background py-6 px-layout-px text-center">
        <p class="text-[10px] text-tertiary font-medium tracking-wide opacity-70">
            * Meta Platforms Inc. (владелец Facebook и Instagram) признана экстремистской организацией, её деятельность запрещена на территории РФ.
        </p>
    </div>

    <!-- Modal -->
    <div id="modal" class="fixed inset-0 z-[100] hidden items-center justify-center p-4 sm:p-6"><div id="modal-overlay" class="absolute inset-0 bg-black/60 backdrop-blur-md opacity-0" onclick="closeModal()"></div><div id="modal-content" class="relative w-full max-w-[600px] bg-white rounded-[32px] shadow-2xl max-h-[90vh] overflow-y-auto opacity-0 scale-95 p-8 md:p-10"><button onclick="closeModal()" class="absolute top-6 right-6 p-2 rounded-full hover:bg-gray-100 transition-colors z-10"><span class="material-symbols-rounded">close</span></button><div id="modal-body" class="mb-0"></div></div></div>

    <script>
        (function() {
            // --- Mobile Menu Logic ---
            const mobileMenu = document.getElementById('mobile-menu');
            const openBtn = document.getElementById('open-menu-btn');
            const closeBtn = document.getElementById('close-menu-btn');
            const mobileLinks = document.querySelectorAll('.mobile-link');

            function toggleMenu(show) {
                if (show) {
                    mobileMenu.classList.remove('closed');
                    mobileMenu.classList.add('open');
                    document.body.style.overflow = 'hidden';
                } else {
                    mobileMenu.classList.remove('open');
                    mobileMenu.classList.add('closed');
                    document.body.style.overflow = '';
                }
            }

            openBtn.addEventListener('click', () => toggleMenu(true));
            closeBtn.addEventListener('click', () => toggleMenu(false));
            
            // Close menu when clicking a link
            mobileLinks.forEach(link => {
                link.addEventListener('click', () => toggleMenu(false));
            });


            // --- Slider Logic ---
            const images = ["https://res.cloudinary.com/dt79npeea/image/upload/v1766566777/Gemini_Generated_Image_qfgabyqfgabyqfga_uhzpgt.png","https://res.cloudinary.com/dt79npeea/image/upload/v1766566583/Gemini_Generated_Image_ipvk4xipvk4xipvk_tfnhul.png","https://images.unsplash.com/photo-1512290923902-8a9f81dc236c?q=80&w=600&auto=format&fit=crop","https://images.unsplash.com/photo-1600334129128-685c5582fd35?q=80&w=600&auto=format&fit=crop"];
            let currentSlide = 0;
            const sliderContainer = document.getElementById('slider');
            const progressContainer = document.getElementById('slider-progress-container');
            const slides = [];
            let progressInterval;

            function initSlider() {
                images.forEach((img, index) => {
                    const slide = document.createElement('div');
                    slide.className = 'slide';
                    const image = document.createElement('img'); image.src = img; slide.appendChild(image);
                    slide.onclick = () => { currentSlide = index; updateSliderState(); resetProgress(); };
                    sliderContainer.appendChild(slide);
                    slides.push(slide);
                    const barWrapper = document.createElement('div'); barWrapper.className = 'progress-bar-bg';
                    const bar = document.createElement('div'); bar.className = 'progress-bar-fill'; bar.id = `progress-${index}`;
                    barWrapper.appendChild(bar); progressContainer.appendChild(barWrapper);
                });
                updateSliderState(); startProgress();
            }

            function updateSliderState() {
                const total = slides.length;
                const leftIndex = (currentSlide - 1 + total) % total;
                const rightIndex = (currentSlide + 1) % total;
                slides.forEach((slide, index) => {
                    slide.className = 'slide';
                    if (index === currentSlide) slide.classList.add('active');
                    else if (index === leftIndex) { slide.classList.add('prev'); }
                    else if (index === rightIndex) { slide.classList.add('next'); }
                    else slide.classList.add('hidden');
                });
            }

            function startProgress() {
                images.forEach((_, i) => { const bar = document.getElementById(`progress-${i}`); if(bar){ bar.style.transition = 'none'; bar.style.width = '0%'; } });
                const currentBar = document.getElementById(`progress-${currentSlide}`);
                void currentBar.offsetWidth;
                if(currentBar){ currentBar.style.transition = 'width 5000ms linear'; currentBar.style.width = '100%'; }
            }

            function resetProgress() {
                clearInterval(progressInterval); startProgress();
                progressInterval = setInterval(() => { currentSlide = (currentSlide + 1) % images.length; updateSliderState(); startProgress(); }, 5000);
            }

            initSlider();
            progressInterval = setInterval(() => { currentSlide = (currentSlide + 1) % images.length; updateSliderState(); startProgress(); }, 5000);

            // --- Visual Effects & Helpers ---
            const canvas = document.getElementById('plasma-canvas'); const ctx = canvas.getContext('2d'); let t = 0; function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; } window.addEventListener('resize', resize); resize(); function drawPlasma() { const w = canvas.width; const h = canvas.height; const gradient = ctx.createLinearGradient(0, 0, w, h); gradient.addColorStop(0, '#1C1A19'); gradient.addColorStop(0.5, '#2A2522'); gradient.addColorStop(1, '#1C1A19'); ctx.fillStyle = gradient; ctx.fillRect(0,0,w,h); const x = Math.sin(t) * w * 0.3 + w/2; const y = Math.cos(t * 0.8) * h * 0.3 + h/2; const rad = ctx.createRadialGradient(x, y, 10, x, y, 400); rad.addColorStop(0, 'rgba(212, 196, 176, 0.05)'); rad.addColorStop(1, 'transparent'); ctx.fillStyle = rad; ctx.fillRect(0,0,w,h); t += 0.01; requestAnimationFrame(drawPlasma); } drawPlasma();

            // --- ОБНОВЛЕННЫЙ MODAL CONTENT (Продающие тексты) ---
            const modalData = { 
                'massage': { 
                    title: 'Скульптурный массаж', 
                    description: 'Это не просто массаж, это безоперационный лифтинг. Мы глубоко прорабатываем мышцы лица, снимая зажимы и возвращая четкость овалу.', 
                    steps: [
                        'Деликатное очищение и тонизация',
                        'Лимфодренажный разогрев (снятие отеков)',
                        'Глубокая скульптурная проработка мышц',
                        'Буккальная техника (через полость рта)',
                        'Финишный лифтинг-крем'
                    ],
                    result: 'Четкий овал лица, раскрытый взгляд и здоровый румянец уже после первого сеанса.' 
                }, 
                'peeling': { 
                    title: 'Умные пилинги', 
                    description: 'Интеллектуальное обновление кожи без долгой реабилитации. Стираем следы усталости и запускаем мощные процессы регенерации изнутри.', 
                    steps: [
                        'Предпилинговая подготовка',
                        'Нанесение активного состава (индивидуально)',
                        'Нейтрализация действия кислот',
                        'Восстанавливающая сыворотка',
                        'Защита SPF 50'
                    ],
                    result: '«Эффект фотошопа»: идеально гладкий рельеф, суженные поры и ровный, сияющий тон.' 
                }, 
                'care': { 
                    title: 'Глубокое увлажнение', 
                    description: 'SOS-процедура для обезвоженной кожи. Мгновенное насыщение влагой, восстановление барьера и возвращение природного сияния «Glass Skin».', 
                    steps: [
                        'Двухэтапное очищение',
                        'Мягкий энзимный эксфолиант',
                        'Внедрение гиалуроновой сыворотки',
                        'Расслабляющий массаж по маске',
                        'Финишный уход'
                    ],
                    result: 'Кожа напитанная, упругая и светится изнутри. Мелкие морщинки разглаживаются мгновенно.' 
                } 
            };
            
            const modalBody = document.getElementById('modal-body');
            
            function initBlurText() { const elements = document.querySelectorAll('.blur-text'); const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) { const spans = entry.target.querySelectorAll('.blur-word'); spans.forEach((span, index) => { setTimeout(() => { span.classList.add('active'); }, index * 120); }); observer.unobserve(entry.target); } }); }, { threshold: 0.2 }); elements.forEach(el => { const nodes = Array.from(el.childNodes); el.innerHTML = ''; nodes.forEach(node => { if (node.nodeType === 3) { const words = node.textContent.trim().split(/\s+/); words.forEach((word) => { if(word) { const span = document.createElement('span'); span.innerText = word + ' '; span.classList.add('blur-word'); el.appendChild(span); } }); } else { el.appendChild(node.cloneNode(true)); } }); observer.observe(el); }); } document.addEventListener('DOMContentLoaded', initBlurText);
            
            const observerOptions = { root: null, rootMargin: '0px', threshold: 0.15 }; const observer = new IntersectionObserver((entries, observer) => { entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('active'); } }); }, observerOptions); document.querySelectorAll('.scroll-animate').forEach(card => { observer.observe(card); });
            
            // Исправлен скролл на мобильном: проверка на ширину экрана
            window.addEventListener('scroll', () => { 
                if (window.innerWidth < 1024) return; // Не запускать на мобильных
                
                const leftTitle = document.getElementById('left-title'); 
                const rightTitle = document.getElementById('right-title'); 
                const section = document.getElementById('services'); 
                if (!leftTitle || !rightTitle || !section) return; 
                const rect = section.getBoundingClientRect(); 
                const windowHeight = window.innerHeight; 
                const animationLength = windowHeight * 0.5; 
                const scrolledIntoSection = -rect.top + 50; 
                let progress = 0; 
                if (scrolledIntoSection < 0) progress = 0; 
                else progress = Math.min(scrolledIntoSection / animationLength, 1); 
                const maxTranslatePx = 290; 
                const currentTranslate = maxTranslatePx * progress; 
                leftTitle.style.transform = `translateX(-${currentTranslate}px)`; 
                rightTitle.style.transform = `translateX(${currentTranslate}px)`; 
            });
            
            const modal = document.getElementById('modal'); const overlay = document.getElementById('modal-overlay'); const modalContent = document.getElementById('modal-content'); const body = document.body; 
            
            window.openModal = function(serviceType) { 
                const data = modalData[serviceType]; 
                if (!data) return; 
                
                // Генерация списка шагов
                const stepsHtml = data.steps.map(step => `<div class="modal-step text-[15px] text-secondary leading-snug">${step}</div>`).join('');
                
                modalBody.innerHTML = `
                    <h2 class="text-[32px] font-bold text-primary mb-2 tracking-dense leading-[1.1]">${data.title}</h2>
                    <div class="w-12 h-1 bg-accent mb-6 rounded-full"></div>
                    
                    <p class="text-[17px] text-primary/80 leading-[1.5] mb-8 font-normal tracking-tight">
                        ${data.description}
                    </p>
                    
                    <div class="bg-[#F9F9F9] rounded-2xl p-6 mb-8 border border-gray-100">
                        <h4 class="text-xs font-bold uppercase tracking-widest text-tertiary mb-4">Что входит:</h4>
                        <div class="flex flex-col gap-1 mb-6">
                            ${stepsHtml}
                        </div>
                        
                        <div class="pt-4 border-t border-gray-200">
                             <h4 class="text-xs font-bold uppercase tracking-widest text-tertiary mb-2">Результат:</h4>
                             <p class="text-[16px] font-medium text-primary tracking-tight leading-snug">
                                ${data.result}
                             </p>
                        </div>
                    </div>

                    <a href="https://n979851.yclients.com/company/910008/personal/menu?o=" class="w-full bg-primary hover:bg-black text-white font-medium py-4 rounded-xl transition-all shadow-lg shadow-black/5 tracking-tight flex items-center justify-center gap-2 group">
                        <span>Записаться на процедуру</span>
                        <span class="material-symbols-rounded text-lg group-hover:translate-x-1 transition-transform">arrow_forward</span>
                    </a>
                    <button onclick="closeModal()" class="w-full text-secondary hover:text-primary text-sm font-medium py-3 mt-2 transition-colors">
                        Вернуться назад
                    </button>
                `; 
                
                modal.classList.remove('hidden'); modal.classList.add('flex'); body.classList.add('modal-open'); 
                setTimeout(() => { overlay.classList.remove('opacity-0'); modalContent.classList.remove('opacity-0', 'scale-95'); modalContent.classList.add('opacity-100', 'scale-100'); }, 10); 
            }; 
            
            window.closeModal = function() { overlay.classList.add('opacity-0'); modalContent.classList.remove('opacity-100', 'scale-100'); modalContent.classList.add('opacity-0', 'scale-95'); setTimeout(() => { modal.classList.add('hidden'); modal.classList.remove('flex'); body.classList.remove('modal-open'); }, 300); }; document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && !modal.classList.contains('hidden')) { closeModal(); } });
            
            function createSnowflakes() { const container = document.getElementById('snow-container'); if(!container) return; container.innerHTML = ''; const flakeCount = 60; for (let i = 0; i < flakeCount; i++) { const flake = document.createElement('div'); flake.classList.add('snowflake'); const size = Math.random() * 3 + 2 + 'px'; flake.style.width = size; flake.style.height = size; flake.style.left = Math.random() * 100 + '%'; flake.style.animationDuration = Math.random() * 3 + 5 + 's'; flake.style.animationDelay = -Math.random() * 8 + 's'; container.appendChild(flake); } } createSnowflakes();
        })();
    </script>
</body>
</html>
